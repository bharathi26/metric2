CREATE VIEW "METRIC2"."M2_WIDGET_RESIDENTMEM" ( "FREE_PHYSICAL_MEMORY", "TOTAL_MEMORY", "PHYSICAL_MEMORY", "TOTAL_PHYSICAL_MEMORY" ) AS select ROUND(T1.FREE_PHYSICAL_MEMORY/1024/1024/1024,2) as FREE_PHYSICAL_MEMORY, ROUND((T1.USED_PHYSICAL_MEMORY+ T2.SHARED_MEMORY_ALLOCATED_SIZE)/1024/1024/1024,2) as TOTAL_MEMORY, ROUND(T2.PHYSICAL_MEMORY_SIZE/1024/1024/1024,2) as PHYSICAL_MEMORY, ROUND((T1.FREE_PHYSICAL_MEMORY+T1.USED_PHYSICAL_MEMORY)/1024/1024/1024,2) as TOTAL_PHYSICAL_MEMORY from M_HOST_RESOURCE_UTILIZATION as T1 join (select M_SERVICE_MEMORY.HOST, sum(M_SERVICE_MEMORY.PHYSICAL_MEMORY_SIZE) as PHYSICAL_MEMORY_SIZE,sum(M_SERVICE_MEMORY.SHARED_MEMORY_ALLOCATED_SIZE) as SHARED_MEMORY_ALLOCATED_SIZE from SYS.M_SERVICE_MEMORY group by M_SERVICE_MEMORY.HOST) as T2 on T2.HOST = T1.HOST WITH READ ONLY